<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SKRC wav â†’ ogg</title>
<style>
body { background:#111; color:#eee; font-family:sans-serif; padding:20px; }
button { padding:10px 20px; font-size:16px; }
#log { margin-top:15px; white-space:pre-line; }
</style>
</head>

<body>
<h2>ğŸš„ SKRC wav â†’ ogg å¤‰æ›</h2>

<input type="file" id="zip" accept=".zip"><br><br>
<button onclick="start()">å¤‰æ›é–‹å§‹</button>

<div id="log"></div>

<script>
function log(t){
  document.getElementById("log").textContent += t + "\n";
}

async function start(){
  log("ğŸš„ ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ä¸­â€¦ï¼ˆ5åˆ†ã»ã©ã‹ã‹ã‚‹å ´åˆã‚ã‚Šï¼‰");

  const file = document.getElementById("zip").files[0];
  if(!file){
    log("âŒ zipæœªé¸æŠ");
    return;
  }

  const fd = new FormData();
  fd.append("zip", file);

  const res = await fetch("/convert", {
    method: "POST",
    body: fd
  });

  if(!res.ok){
    log("âŒ å¤‰æ›å¤±æ•—");
    return;
  }

  const blob = await res.blob();
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "SKRC_ogg_converted.zip";
  a.click();

  log("âœ… å¤‰æ›å®Œäº†ï¼†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é–‹å§‹ï¼");
}
</script>
</body>
</html>
